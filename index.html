<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Selling-options.com | Options Trading Tools & Insights</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="header">
      <nav class="nav-container">
        <div class="logo">
          <img src="attached_assets/generated_images/Clean_upward_chart_icon_3aeef765.png" alt="Chart Logo" class="logo-image">
          <strong>Selling-options.com</strong>
        </div>
        <div class="nav-quote">
          <input type="text" id="navQuoteSymbol" placeholder="Enter symbol..." class="nav-quote-input">
          <button onclick="getNavQuote()" class="nav-quote-btn">Quote</button>
          <div id="navQuoteResult" class="nav-quote-result"></div>
        </div>
        <div class="nav-menu">
          <div class="nav-item dropdown">
            <a href="#">Tools</a>
            <div class="dropdown-content">
              <a href="/calculator.html">Options Calculator</a>
              <a href="#">Risk Assessment</a>
              <a href="#">Profit Analyzer</a>
              <a href="#">Strategy Builder</a>
            </div>
          </div>
          <div class="nav-item dropdown">
            <a href="#">Education</a>
            <div class="dropdown-content">
              <a href="#">Options Basics</a>
              <a href="#">Advanced Strategies</a>
              <a href="#">Risk Management</a>
              <a href="/video-tutorials.html">Video Tutorials</a>
            </div>
          </div>
          <div class="nav-item dropdown">
            <a href="#">Screeners</a>
            <div class="dropdown-content">
              <a href="#">High IV Options</a>
              <a href="#">Earnings Plays</a>
              <a href="#">Weekly Options</a>
              <a href="#">Dividend Stocks</a>
            </div>
          </div>
          <div class="nav-item">
            <a href="#">Market Data</a>
          </div>
        </div>
        <div class="nav-actions">
          <a href="/login" class="btn-login">Log In</a>
          <a href="/signup" class="btn-signup">Sign Up</a>
        </div>
      </nav>
    </header>

    <main class="main-content">
      <!-- Market Overview Section -->
      <section class="market-overview">
        <div class="container">
          <h1>Market Overview</h1>
          <div class="market-grid" id="marketGrid">
            <div class="loading-message">Loading market data...</div>
          </div>
        </div>
      </section>




    </main>

    <section class="cta-section">
      <div class="container">
        <div class="cta-content">
          <h2>Start Trading Options Like a Pro</h2>
          <p>Join thousands of traders using our tools to generate consistent income from options</p>
          <div class="cta-form">
            <a href="/signup" class="btn-primary">Get Free Access</a>
            <p class="form-note">Start with our free tools â€¢ No credit card required</p>
          </div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h4>Tools</h4>
            <ul>
              <li><a href="#">Options Calculator</a></li>
              <li><a href="#">Risk Assessment</a></li>
              <li><a href="#">Strategy Builder</a></li>
              <li><a href="#">IV Screener</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4>Education</h4>
            <ul>
              <li><a href="#">Options Basics</a></li>
              <li><a href="#">Advanced Strategies</a></li>
              <li><a href="#">Risk Management</a></li>
              <li><a href="#">Video Library</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4>Company</h4>
            <ul>
              <li><a href="#">About Us</a></li>
              <li><a href="#">Contact</a></li>
              <li><a href="#">Premium Plans</a></li>
              <li><a href="#">Affiliate Program</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4>Legal</h4>
            <ul>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Terms of Service</a></li>
              <li><a href="#">Disclaimer</a></li>
              <li><a href="#">Risk Warning</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2025 Selling-options.com. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      // Load market data on page load
      document.addEventListener('DOMContentLoaded', function() {
        loadMarketData();
        setInterval(loadMarketData, 60000); // Refresh every minute
      });

      async function loadMarketData() {
        try {
          const response = await fetch('/api/market-data');
          const data = await response.json();
          
          const marketGrid = document.getElementById('marketGrid');
          marketGrid.innerHTML = '';
          
          for (const item of data) {
            const card = document.createElement('div');
            card.className = 'market-card';
            
            const changeClass = item.change >= 0 ? 'positive' : 'negative';
            const changeSymbol = item.change >= 0 ? '+' : '';
            
            card.innerHTML = `
              <div class="market-name">${item.name}</div>
              <div class="market-price">${formatPrice(item.price, item.name)}</div>
              <div class="market-change ${changeClass}">
                ${changeSymbol}${item.change} (${changeSymbol}${item.change_pct}%)
              </div>
            `;
            
            marketGrid.appendChild(card);
          }
        } catch (error) {
          console.error('Error loading market data:', error);
          document.getElementById('marketGrid').innerHTML = '<div class="error-message">Unable to load market data</div>';
        }
      }

      function formatPrice(price, name) {
        if (name.includes('Bitcoin') || name.includes('Ethereum')) {
          return '$' + price.toLocaleString();
        }
        if (name.includes('Dollar')) {
          return price.toFixed(3);
        }
        return price.toFixed(2);
      }

      // Navigation stock quote functionality
      async function getNavQuote() {
        const symbol = document.getElementById('navQuoteSymbol').value.trim().toUpperCase();
        const resultDiv = document.getElementById('navQuoteResult');
        
        if (!symbol) {
          resultDiv.innerHTML = '<div class="nav-quote-error">Enter symbol</div>';
          setTimeout(() => resultDiv.innerHTML = '', 3000);
          return;
        }
        
        resultDiv.innerHTML = '<div class="nav-quote-loading">Loading...</div>';
        
        try {
          const response = await fetch(`/api/quote?symbol=${symbol}`);
          const data = await response.json();
          
          if (data.error) {
            resultDiv.innerHTML = `<div class="nav-quote-error">Not found</div>`;
          } else {
            resultDiv.innerHTML = `
              <div class="nav-quote-success">
                ${data.symbol}: $${data.price}
              </div>
            `;
          }
          
          // Clear result after 5 seconds
          setTimeout(() => resultDiv.innerHTML = '', 5000);
        } catch (error) {
          resultDiv.innerHTML = '<div class="nav-quote-error">Error</div>';
          setTimeout(() => resultDiv.innerHTML = '', 3000);
        }
      }

      // Allow Enter key for nav quote search
      document.addEventListener('DOMContentLoaded', function() {
        const navQuoteInput = document.getElementById('navQuoteSymbol');
        if (navQuoteInput) {
          navQuoteInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
              getNavQuote();
            }
          });
        }
      });
    </script>
  </body>
</html>